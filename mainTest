# Parameters
testTar="/home/ohadoz/Desktop/RansomwareDetection/TestData/tar/TestData.tar.gz"
testOutput="/home/ohadoz/Desktop/RansomwareDetection/TestData/output/"
testOutputDirectory="/home/ohadoz/Desktop/RansomwareDetection/TestData/output"
sandBox="/tmp/sandbox"

# Update
git pull
sleep 5

# Build
cd src
make
sleep 2

# Test data cleanup
rm -rf $testOutputDirectory
sleep 2

# Create test data
cd ..
mkdir $testOutput
tar -C $testOutput -zxf $testTar
sleep 2

# Start Ransomware Detection
mkdir $sandbox
sudo umount $sandBox
cd RansomwareDetection
./RansomwareGateway $testOutput $sandBox &
sleep 2

# Run ransomwares
cd ..


# Stop Ransomware Detection
sudo umount $sandBox
